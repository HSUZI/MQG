package com.qingqu.wc.maqi.ui;import android.os.Bundle;import android.support.annotation.Nullable;import android.support.v4.app.Fragment;import android.support.v4.app.FragmentActivity;import android.support.v4.app.FragmentTransaction;import android.view.View;import android.widget.FrameLayout;import android.widget.LinearLayout;import android.widget.RadioButton;import android.widget.RadioGroup;import android.widget.TextView;import com.qingqu.wc.maqi.R;import com.qingqu.wc.maqi.base.BaseFragment;import com.qingqu.wc.maqi.fragment.HuoDongOneFragment;import com.qingqu.wc.maqi.fragment.HuoDongTwoFragment;import java.util.ArrayList;import java.util.List;import butterknife.BindView;import butterknife.ButterKnife;import butterknife.Unbinder;/** * Created by wc_2 on 2017/8/1. */public class HuoDongActivity extends FragmentActivity {    @BindView(R.id.fl_home)    FrameLayout flHome;    @BindView(R.id.rg_main)    RadioGroup rgMain;    @BindView(R.id.rb_jingxingzhong)    RadioButton rbJingxingzhong;    @BindView(R.id.rb_huojiangren)    RadioButton rbHuojiangren;    @BindView(R.id.headTV)    TextView headTV;    @BindView(R.id.iv_back)    LinearLayout ivBack;    private List<BaseFragment> fragments;    private int position = 0;    private Fragment tempFragemnt;//    @Override//    public View initView() {//        View view=View.inflate(mContext,R.layout.huodong,null);//        unbinder = ButterKnife.bind(this, view);//        ivBack.setVisibility(View.VISIBLE);//        headTV.setText("票選活動");////        ivBack.setOnClickListener(new View.OnClickListener() {////            @Override////            public void onClick(View v) {////                getActivity().finish();////            }////        });//        initFragment();//        initListener();//        return view;//    }    @Override    protected void onCreate( Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.huodong);        ButterKnife.bind(this);        ivBack.setVisibility(View.VISIBLE);        headTV.setText("票選活動");        headTV.setText("票選活動");        ivBack.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                finish();            }        });        initFragment();        initListener();    }    private void initListener() {        rgMain.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {            @Override            public void onCheckedChanged(RadioGroup radioGroup, int i) {                switch (i) {                    case R.id.rb_jingxingzhong:                        position = 0;                        break;                    case R.id.rb_huojiangren:                        position = 1;                        break;                    default:                        position = 0;                        break;                }                //根据位置不同取不同的fragment                BaseFragment baseFragment = getFragment(position);                switchFragmnet(tempFragemnt, baseFragment);            }        });        rgMain.check(R.id.rb_jingxingzhong);    }    private void initFragment() {        fragments = new ArrayList<>();        fragments.add(new HuoDongTwoFragment());        fragments.add(new HuoDongOneFragment());    }    private BaseFragment getFragment(int position) {        if (fragments != null && fragments.size() > 0) {            BaseFragment baseFragment = fragments.get(position);            return baseFragment;        }        return null;    }    /**     * 切换Fragment     *     * @param nextFragment     */    private void switchFragmnet(Fragment fromFrament, BaseFragment nextFragment) {        if (tempFragemnt != nextFragment) {            tempFragemnt = nextFragment;            if (nextFragment != null) {                FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();                if (!nextFragment.isAdded()) {                    if (fromFrament != null) {                        transaction.hide(fromFrament);                    }                    //添加Fragment                    transaction.add(R.id.fl_home, nextFragment).commit();                } else {                    if (fromFrament != null) {                        transaction.hide(fromFrament);                    }                    transaction.show(nextFragment).commit();                }            }        }    }}